<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Master special material types in Unreal Engine 5. Learn translucent, masked, emissive materials, decals, and landscape material basics.">
    <meta name="author" content="Practical Ace">
    <title>Special Material Types - Introduction to Unreal Engine 5</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#f0f0f0',
                primaryTextColor: '#333',
                primaryBorderColor: '#667eea'
            }
        });
    </script>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-logo">Introduction to Unreal Engine 5</a>
            <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links">
                ‚ò∞
            </button>
            <div class="nav-links" id="nav-links" aria-hidden="false">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
                <button id="theme-toggle" aria-label="Toggle theme">üåô</button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#modules">Module 3: Materials and Textures</a></li>
            <li aria-current="page">Lesson 3.5: Special Material Types</li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <div class="container">
            <!-- Lesson Header -->
            <header>
                <h1>‚ú® Special Material Types</h1>
                <p class="lead">Not every surface is a simple opaque solid. Glass windows let light through. Leaves have complex cutout shapes. Neon signs glow in the dark. Bullet holes appear on walls without adding geometry. Vast terrains blend multiple textures seamlessly. In this lesson, you'll master the specialized material techniques that bring these effects to life in Unreal Engine.</p>
                
                <!-- Learning objectives -->
                <div class="card">
                    <h2>üéØ Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Configure translucent materials for glass, water, and see-through effects</li>
                        <li>Create masked materials for foliage, fences, and complex cutouts</li>
                        <li>Build emissive materials that appear to glow and emit light</li>
                        <li>Use decals to add detail like dirt, damage, and signage without extra geometry</li>
                        <li>Understand the basics of landscape materials for terrain texturing</li>
                        <li>Choose the right material type for different visual requirements</li>
                    </ul>
                    <p><strong>Estimated Time:</strong> 50-60 minutes</p>
                    <p><strong>Prerequisites:</strong> Lesson 3.4 - Material Instances and Parameters</p>
                </div>
            </header>

            <!-- Sticky Table of Contents -->
            <details class="card" open style="position: sticky; top: 80px; z-index: 100; background: var(--card-bg, white); box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <summary style="cursor: pointer; font-weight: bold; padding: 0.5rem 1rem; user-select: none;">
                    <h2 style="display: inline; margin: 0;">üìë In This Lesson</h2>
                </summary>
                <nav aria-label="Table of Contents" style="padding: 0 1rem 1rem 1rem;">
                    <ol>
                        <li><a href="#blend-modes" class="toc-link">Understanding Blend Modes</a></li>
                        <li><a href="#translucent" class="toc-link">Translucent Materials</a></li>
                        <li><a href="#masked" class="toc-link">Masked Materials</a></li>
                        <li><a href="#emissive" class="toc-link">Emissive Materials (Glow Effects)</a></li>
                        <li><a href="#decals" class="toc-link">Decals</a></li>
                        <li><a href="#landscape" class="toc-link">Landscape Materials Introduction</a></li>
                        <li><a href="#hands-on" class="toc-link">Hands-On: Create a Glowing Emissive Material</a></li>
                        <li><a href="#summary" class="toc-link">Summary</a></li>
                    </ol>
                </nav>
            </details>

            <!-- Section 1: Understanding Blend Modes -->
            <section id="blend-modes" class="lesson-section">
                <h2>Understanding Blend Modes</h2>

                <p>Before diving into specific material types, you need to understand <strong>Blend Modes</strong>‚Äîthe fundamental setting that determines how a material interacts with whatever is behind it. This single property transforms how the entire material renders.</p>

                <p>Find the Blend Mode in the Material Editor's Details panel under <strong>Material ‚Üí Blend Mode</strong>. Let's explore each option:</p>

                <h3>Opaque (Default)</h3>

                <p>The standard mode for solid surfaces. Light doesn't pass through, and you can't see anything behind the object. This is the most performant option because the renderer doesn't need to composite multiple layers.</p>

                <p><strong>Use for:</strong> Walls, floors, rocks, metal, wood‚Äîany solid surface</p>

                <h3>Masked</h3>

                <p>Pixels are either fully visible or fully invisible based on an opacity mask. There's no partial transparency‚Äîeach pixel is a hard yes or no. This enables complex shapes from simple geometry (a flat plane can display a detailed leaf).</p>

                <p><strong>Use for:</strong> Foliage, chain-link fences, grates, hair cards, decals with hard edges</p>

                <h3>Translucent</h3>

                <p>Allows partial transparency‚Äîpixels can be anywhere from 0% to 100% visible. This enables glass, liquids, smoke, and other see-through materials. However, it's more expensive to render than Opaque or Masked.</p>

                <p><strong>Use for:</strong> Glass, water, ice, smoke, holograms, UI elements in world space</p>

                <h3>Additive</h3>

                <p>Adds the material's color to whatever is behind it, making everything brighter. Black becomes invisible (adds nothing), while bright colors create intense glows. Cannot darken the scene.</p>

                <p><strong>Use for:</strong> Fire, magic effects, lens flares, energy beams, ghosts</p>

                <h3>Modulate</h3>

                <p>Multiplies the material's color with the background. White has no effect, black makes the background completely dark, and colors tint the background. Rarely used but useful for specific effects like shadows on transparent surfaces.</p>

                <p><strong>Use for:</strong> Projected shadows, colored glass shadows, special tinting effects</p>

                <!-- SVG: Blend Mode Comparison -->
                <svg width="100%" height="380" viewBox="0 0 850 380" style="max-width: 850px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);">
                    <text x="425" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Blend Mode Visual Comparison</text>
                    
                    <!-- Background pattern for demonstration -->
                    <defs>
                        <pattern id="checkerboard" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                            <rect x="0" y="0" width="10" height="10" fill="#444"/>
                            <rect x="10" y="10" width="10" height="10" fill="#444"/>
                            <rect x="10" y="0" width="10" height="10" fill="#333"/>
                            <rect x="0" y="10" width="10" height="10" fill="#333"/>
                        </pattern>
                    </defs>
                    
                    <!-- Opaque -->
                    <g transform="translate(50, 60)">
                        <rect x="0" y="0" width="130" height="130" fill="url(#checkerboard)" rx="5"/>
                        <circle cx="65" cy="65" r="50" fill="#667eea"/>
                        <text x="65" y="155" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Opaque</text>
                        <text x="65" y="172" text-anchor="middle" fill="#aaa" font-size="9">Solid, no transparency</text>
                        <text x="65" y="187" text-anchor="middle" fill="#4CAF50" font-size="9">‚úì Best performance</text>
                    </g>
                    
                    <!-- Masked -->
                    <g transform="translate(220, 60)">
                        <rect x="0" y="0" width="130" height="130" fill="url(#checkerboard)" rx="5"/>
                        <!-- Star shape to show masking -->
                        <polygon points="65,15 75,50 115,50 82,75 95,115 65,90 35,115 48,75 15,50 55,50" fill="#667eea"/>
                        <text x="65" y="155" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Masked</text>
                        <text x="65" y="172" text-anchor="middle" fill="#aaa" font-size="9">Binary: visible or not</text>
                        <text x="65" y="187" text-anchor="middle" fill="#4CAF50" font-size="9">‚úì Good performance</text>
                    </g>
                    
                    <!-- Translucent -->
                    <g transform="translate(390, 60)">
                        <rect x="0" y="0" width="130" height="130" fill="url(#checkerboard)" rx="5"/>
                        <circle cx="65" cy="65" r="50" fill="#667eea" opacity="0.5"/>
                        <text x="65" y="155" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Translucent</text>
                        <text x="65" y="172" text-anchor="middle" fill="#aaa" font-size="9">Partial transparency</text>
                        <text x="65" y="187" text-anchor="middle" fill="#ffc107" font-size="9">‚ö† More expensive</text>
                    </g>
                    
                    <!-- Additive -->
                    <g transform="translate(560, 60)">
                        <rect x="0" y="0" width="130" height="130" fill="url(#checkerboard)" rx="5"/>
                        <circle cx="65" cy="65" r="50" fill="#667eea" style="mix-blend-mode: screen;"/>
                        <!-- Simulate additive with lighter center -->
                        <circle cx="65" cy="65" r="50" fill="none" stroke="#99aaff" stroke-width="15" opacity="0.6"/>
                        <circle cx="65" cy="65" r="30" fill="#aabbff" opacity="0.5"/>
                        <text x="65" y="155" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Additive</text>
                        <text x="65" y="172" text-anchor="middle" fill="#aaa" font-size="9">Adds brightness</text>
                        <text x="65" y="187" text-anchor="middle" fill="#ffc107" font-size="9">‚ö† Cannot darken</text>
                    </g>
                    
                    <!-- Modulate -->
                    <g transform="translate(730, 60)">
                        <rect x="0" y="0" width="130" height="130" fill="url(#checkerboard)" rx="5"/>
                        <circle cx="65" cy="65" r="50" fill="#333" opacity="0.7"/>
                        <text x="65" y="155" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Modulate</text>
                        <text x="65" y="172" text-anchor="middle" fill="#aaa" font-size="9">Multiplies colors</text>
                        <text x="65" y="187" text-anchor="middle" fill="#888" font-size="9">Rarely used</text>
                    </g>
                    
                    <!-- Performance scale -->
                    <g transform="translate(50, 260)">
                        <text x="0" y="0" fill="#fff" font-size="12" font-weight="bold">Performance Impact:</text>
                        <rect x="0" y="15" width="760" height="25" rx="5" fill="#333"/>
                        <rect x="0" y="15" width="200" height="25" rx="5" fill="#4CAF50"/>
                        <rect x="200" y="15" width="200" height="25" fill="#8BC34A"/>
                        <rect x="400" y="15" width="360" height="25" rx="5" fill="#FF9800"/>
                        
                        <text x="100" y="32" text-anchor="middle" fill="#fff" font-size="10">Opaque</text>
                        <text x="300" y="32" text-anchor="middle" fill="#fff" font-size="10">Masked</text>
                        <text x="580" y="32" text-anchor="middle" fill="#fff" font-size="10">Translucent / Additive / Modulate</text>
                        
                        <text x="0" y="60" fill="#4CAF50" font-size="10">‚Üê Fastest (cheapest)</text>
                        <text x="760" y="60" text-anchor="end" fill="#FF9800" font-size="10">Slowest (most expensive) ‚Üí</text>
                    </g>
                    
                    <!-- Decision tip -->
                    <rect x="50" y="320" width="760" height="40" rx="5" fill="rgba(102,126,234,0.2)" stroke="#667eea"/>
                    <text x="430" y="345" text-anchor="middle" fill="#fff" font-size="11">üí° Rule of thumb: Use Opaque whenever possible. Use Masked for cutouts. Use Translucent only when you need variable transparency.</text>
                </svg>
                <p class="caption"><em>Figure: Each blend mode has distinct visual behavior and performance characteristics.</em></p>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Watch Out: Translucent Sorting Issues</h4>
                    <p>Translucent materials can have sorting problems when multiple transparent objects overlap. The renderer may draw them in the wrong order, causing visual artifacts. For simple cases, adjust the <strong>Translucency Sort Priority</strong> in the material settings. For complex scenes, consider if Masked could work instead.</p>
                </div>
            </section>

            <!-- Section 2: Translucent Materials -->
            <section id="translucent" class="lesson-section">
                <h2>Translucent Materials</h2>

                <p>Translucent materials let you see through surfaces with varying degrees of transparency. They're essential for glass, water, ice, holograms, and any effect where background visibility matters.</p>

                <h3>Setting Up Basic Translucency</h3>

                <p><strong>Step 1:</strong> Create a new material and open it in the Material Editor.</p>

                <p><strong>Step 2:</strong> In the Details panel, find <strong>Material ‚Üí Blend Mode</strong> and change it from Opaque to <strong>Translucent</strong>.</p>

                <p><strong>Step 3:</strong> Notice that the <strong>Opacity</strong> input on the main material node is now active. This controls how see-through the surface is: 0 = fully transparent, 1 = fully opaque.</p>

                <p><strong>Step 4:</strong> Connect a value to Opacity. For simple glass, try a Constant with value 0.3 (mostly transparent).</p>

                <!-- SVG: Basic Translucent Setup -->
                <svg width="100%" height="260" viewBox="0 0 800 260" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="400" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Basic Translucent Glass Material</text>
                    
                    <!-- Base Color -->
                    <g transform="translate(50, 60)">
                        <rect x="0" y="0" width="140" height="50" rx="5" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="70" y="20" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">Vector Parameter</text>
                        <text x="70" y="38" text-anchor="middle" fill="#aaa" font-size="9">Glass_Tint (0.8, 0.9, 1.0)</text>
                        <circle cx="140" cy="25" r="5" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Opacity Constant -->
                    <g transform="translate(50, 130)">
                        <rect x="0" y="0" width="140" height="50" rx="5" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="70" y="20" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">Scalar Parameter</text>
                        <text x="70" y="38" text-anchor="middle" fill="#aaa" font-size="9">Opacity_Amount (0.3)</text>
                        <circle cx="140" cy="25" r="5" fill="#888"/>
                    </g>
                    
                    <!-- Roughness -->
                    <g transform="translate(250, 95)">
                        <rect x="0" y="0" width="120" height="40" rx="5" fill="#3d3d3d" stroke="#888"/>
                        <text x="60" y="25" text-anchor="middle" fill="#aaa" font-size="10">Constant: 0.05</text>
                        <circle cx="120" cy="20" r="5" fill="#888"/>
                    </g>
                    
                    <!-- Main Material Node -->
                    <g transform="translate(500, 50)">
                        <rect x="0" y="0" width="240" height="180" rx="8" fill="#2d2d2d" stroke="#f1c40f" stroke-width="2"/>
                        <rect x="0" y="0" width="240" height="30" rx="8" fill="#f1c40f"/>
                        <rect x="0" y="22" width="240" height="8" fill="#f1c40f"/>
                        <text x="120" y="20" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">M_Glass_Simple</text>
                        
                        <circle cx="0" cy="55" r="5" fill="#f1c40f"/>
                        <text x="15" y="58" fill="#aaa" font-size="9">Base Color</text>
                        
                        <circle cx="0" cy="85" r="5" fill="#888"/>
                        <text x="15" y="88" fill="#aaa" font-size="9">Metallic</text>
                        
                        <circle cx="0" cy="115" r="5" fill="#888"/>
                        <text x="15" y="118" fill="#aaa" font-size="9">Roughness</text>
                        
                        <circle cx="0" cy="145" r="5" fill="#fff" stroke="#667eea" stroke-width="2"/>
                        <text x="15" y="148" fill="#667eea" font-size="9" font-weight="bold">Opacity</text>
                        
                        <!-- Blend Mode indicator -->
                        <rect x="130" y="50" width="100" height="25" rx="3" fill="#667eea"/>
                        <text x="180" y="67" text-anchor="middle" fill="#fff" font-size="9">Blend: Translucent</text>
                    </g>
                    
                    <!-- Connection wires -->
                    <path d="M 190 85 L 500 105" stroke="#f1c40f" stroke-width="2" fill="none"/>
                    <path d="M 190 155 L 350 155 L 350 195 L 500 195" stroke="#888" stroke-width="2" fill="none"/>
                    <path d="M 370 115 L 500 165" stroke="#888" stroke-width="2" fill="none"/>
                </svg>
                <p class="caption"><em>Figure: A basic translucent glass material with tint, opacity, and low roughness.</em></p>

                <h3>Translucent Lighting Modes</h3>

                <p>Translucent materials have special lighting options found in <strong>Details ‚Üí Translucency ‚Üí Lighting Mode</strong>:</p>

                <p><strong>Volumetric NonDirectional:</strong> Cheapest option. Light affects the whole surface uniformly‚Äîno sense of direction. Good for particles and simple effects.</p>

                <p><strong>Volumetric Directional:</strong> Adds basic directional lighting response. The surface reacts to light direction but without full detail.</p>

                <p><strong>Volumetric PerVertex NonDirectional/Directional:</strong> Calculates lighting per vertex instead of per pixel. Faster but less accurate on detailed meshes.</p>

                <p><strong>Surface ForwardShading:</strong> Highest quality. Enables full PBR lighting including reflections and specular. Most expensive but looks best for glass and water.</p>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip: Glass That Looks Real</h4>
                    <p>For convincing glass, use <strong>Surface ForwardShading</strong> lighting mode, very low roughness (0.0-0.1), and enable <strong>Screen Space Reflections</strong> in the translucency settings. Add a subtle Fresnel effect to make edges more reflective than the center‚Äîreal glass does this naturally.</p>
                </div>

                <h3>Fresnel Effect for Realistic Glass</h3>

                <p>The <strong>Fresnel</strong> effect makes surfaces more reflective at glancing angles. Look at a window from straight on‚Äîyou see through it clearly. Look at it from a sharp angle‚Äîit becomes mirror-like. This is Fresnel in action.</p>

                <p>Add a <strong>Fresnel</strong> node to your material. Connect it to Opacity (inverted) so edges become more opaque, or use it to blend between reflection and transparency.</p>

                <!-- SVG: Fresnel Effect Explanation -->
                <svg width="100%" height="220" viewBox="0 0 800 220" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #f9f9f9;">
                    <text x="400" y="30" text-anchor="middle" fill="#333" font-size="16" font-weight="bold">Fresnel Effect on Glass</text>
                    
                    <!-- Head-on view -->
                    <g transform="translate(100, 55)">
                        <text x="80" y="0" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Head-On View</text>
                        
                        <!-- Glass pane -->
                        <rect x="60" y="20" width="40" height="100" fill="#87CEEB" opacity="0.3" stroke="#667eea" stroke-width="2"/>
                        
                        <!-- Eye -->
                        <ellipse cx="10" cy="70" rx="15" ry="10" fill="#fff" stroke="#333" stroke-width="2"/>
                        <circle cx="12" cy="70" r="5" fill="#333"/>
                        
                        <!-- View ray -->
                        <path d="M 25 70 L 60 70" stroke="#333" stroke-width="2" marker-end="url(#arrowBlack)"/>
                        
                        <text x="80" y="145" text-anchor="middle" fill="#4CAF50" font-size="10">See through clearly</text>
                        <text x="80" y="160" text-anchor="middle" fill="#888" font-size="9">Low reflection</text>
                    </g>
                    
                    <!-- Glancing angle view -->
                    <g transform="translate(350, 55)">
                        <text x="80" y="0" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Glancing Angle</text>
                        
                        <!-- Glass pane -->
                        <rect x="60" y="20" width="40" height="100" fill="#87CEEB" opacity="0.7" stroke="#667eea" stroke-width="2"/>
                        
                        <!-- Reflection indication -->
                        <rect x="62" y="22" width="36" height="96" fill="#fff" opacity="0.5"/>
                        
                        <!-- Eye -->
                        <ellipse cx="10" cy="110" rx="15" ry="10" fill="#fff" stroke="#333" stroke-width="2"/>
                        <circle cx="12" cy="110" r="5" fill="#333"/>
                        
                        <!-- View ray at angle -->
                        <path d="M 25 110 L 60 40" stroke="#333" stroke-width="2" marker-end="url(#arrowBlack)"/>
                        
                        <text x="80" y="145" text-anchor="middle" fill="#e74c3c" font-size="10">More reflective</text>
                        <text x="80" y="160" text-anchor="middle" fill="#888" font-size="9">Less see-through</text>
                    </g>
                    
                    <!-- Fresnel node usage -->
                    <g transform="translate(550, 50)">
                        <rect x="0" y="0" width="200" height="130" rx="8" fill="#fff" stroke="#667eea" stroke-width="2"/>
                        <text x="100" y="25" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">Fresnel Node Usage</text>
                        
                        <text x="15" y="50" fill="#333" font-size="10">ExponentIn: 3-5</text>
                        <text x="15" y="70" fill="#888" font-size="9">(higher = tighter edge effect)</text>
                        
                        <text x="15" y="95" fill="#333" font-size="10">Output: 0 at center, 1 at edges</text>
                        <text x="15" y="115" fill="#888" font-size="9">Use to drive opacity or lerp</text>
                    </g>
                    
                    <defs>
                        <marker id="arrowBlack" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
                        </marker>
                    </defs>
                </svg>
                <p class="caption"><em>Figure: Fresnel makes glass more reflective at shallow viewing angles, mimicking real-world physics.</em></p>

                <h3>Refraction</h3>

                <p>Real glass bends light passing through it‚Äîthis is <strong>refraction</strong>. Enable it in <strong>Details ‚Üí Translucency ‚Üí Refraction Mode</strong> (set to "Index of Refraction" or "Pixel Normal Offset").</p>

                <p>The <strong>Refraction</strong> input on the material node controls the Index of Refraction (IOR). Common values:</p>

                <ul>
                    <li><strong>Air:</strong> 1.0 (no refraction)</li>
                    <li><strong>Water:</strong> 1.33</li>
                    <li><strong>Glass:</strong> 1.5</li>
                    <li><strong>Diamond:</strong> 2.4</li>
                </ul>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Watch Out: Refraction Performance</h4>
                    <p>Refraction requires rendering the scene behind the object to a separate buffer, which is expensive. Use it sparingly‚Äîa few glass windows are fine, but hundreds of refractive particles will tank performance. For distant or small glass objects, skip refraction entirely.</p>
                </div>

                <h3>Two-Sided Translucency</h3>

                <p>By default, materials only render on one side of a mesh (the side with outward-facing normals). For thin translucent objects like glass panes or bubbles, you often need both sides visible.</p>

                <p>Enable <strong>Two Sided</strong> in the material's Details panel. For translucent materials, also consider enabling <strong>Two Sided Foliage</strong> if you want light to transmit through (useful for leaves and thin cloth).</p>
            </section>

            <!-- Section 3: Masked Materials -->
            <section id="masked" class="lesson-section">
                <h2>Masked Materials</h2>

                <p>Masked materials create complex shapes from simple geometry using alpha textures. Unlike translucent materials, masked pixels are either fully visible or fully invisible‚Äîthere's no partial transparency. This makes them more performant while still enabling detailed silhouettes.</p>

                <div class="card" style="background: #1a1a2e; border-left: 4px solid #667eea;">
                    <h4>üìñ Definition</h4>
                    <p style="color: white;"><strong>Opacity Mask:</strong> A grayscale texture (or computed value) that determines which pixels are visible. White pixels are visible, black pixels are discarded. The <strong>Opacity Mask Clip Value</strong> sets the threshold‚Äîpixels below this value disappear.</p>
                </div>

                <h3>Setting Up a Masked Material</h3>

                <p><strong>Step 1:</strong> Create a new material. In Details, set <strong>Blend Mode</strong> to <strong>Masked</strong>.</p>

                <p><strong>Step 2:</strong> The <strong>Opacity Mask</strong> input becomes active on the material node. Connect a mask texture or value here.</p>

                <p><strong>Step 3:</strong> Adjust <strong>Opacity Mask Clip Value</strong> in the Details panel. Default is 0.333. Lower values show more of the mask; higher values cut away more.</p>

                <!-- SVG: Masked Material Concept -->
                <svg width="100%" height="280" viewBox="0 0 850 280" style="max-width: 850px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="425" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">How Masked Materials Work</text>
                    
                    <!-- Source texture -->
                    <g transform="translate(50, 55)">
                        <text x="70" y="0" text-anchor="middle" fill="#aaa" font-size="11">Base Color Texture</text>
                        <rect x="0" y="10" width="140" height="140" fill="#228B22" stroke="#555" stroke-width="2"/>
                        <!-- Leaf veins pattern -->
                        <path d="M 70 20 L 70 140" stroke="#1a6b1a" stroke-width="3"/>
                        <path d="M 70 50 L 30 30" stroke="#1a6b1a" stroke-width="2"/>
                        <path d="M 70 50 L 110 30" stroke="#1a6b1a" stroke-width="2"/>
                        <path d="M 70 80 L 25 60" stroke="#1a6b1a" stroke-width="2"/>
                        <path d="M 70 80 L 115 60" stroke="#1a6b1a" stroke-width="2"/>
                        <path d="M 70 110 L 35 100" stroke="#1a6b1a" stroke-width="2"/>
                        <path d="M 70 110 L 105 100" stroke="#1a6b1a" stroke-width="2"/>
                        <text x="70" y="170" text-anchor="middle" fill="#888" font-size="9">Full square texture</text>
                    </g>
                    
                    <!-- Plus sign -->
                    <text x="220" y="135" text-anchor="middle" fill="#667eea" font-size="30">+</text>
                    
                    <!-- Opacity mask -->
                    <g transform="translate(260, 55)">
                        <text x="70" y="0" text-anchor="middle" fill="#aaa" font-size="11">Opacity Mask (Alpha)</text>
                        <rect x="0" y="10" width="140" height="140" fill="#000" stroke="#555" stroke-width="2"/>
                        <!-- Leaf shape in white -->
                        <ellipse cx="70" cy="80" rx="55" ry="60" fill="#fff"/>
                        <polygon points="70,140 60,155 80,155" fill="#fff"/>
                        <text x="70" y="170" text-anchor="middle" fill="#888" font-size="9">White = visible, Black = cut</text>
                    </g>
                    
                    <!-- Equals sign -->
                    <text x="430" y="135" text-anchor="middle" fill="#667eea" font-size="30">=</text>
                    
                    <!-- Result -->
                    <g transform="translate(470, 55)">
                        <text x="70" y="0" text-anchor="middle" fill="#aaa" font-size="11">Final Result</text>
                        <!-- Checkered background to show transparency -->
                        <defs>
                            <pattern id="checker2" x="0" y="0" width="14" height="14" patternUnits="userSpaceOnUse">
                                <rect x="0" y="0" width="7" height="7" fill="#444"/>
                                <rect x="7" y="7" width="7" height="7" fill="#444"/>
                                <rect x="7" y="0" width="7" height="7" fill="#333"/>
                                <rect x="0" y="7" width="7" height="7" fill="#333"/>
                            </pattern>
                            <clipPath id="leafClip">
                                <ellipse cx="70" cy="80" rx="55" ry="60"/>
                                <polygon points="70,140 60,155 80,155"/>
                            </clipPath>
                        </defs>
                        <rect x="0" y="10" width="140" height="140" fill="url(#checker2)" stroke="#555" stroke-width="2"/>
                        <g clip-path="url(#leafClip)">
                            <rect x="0" y="10" width="140" height="140" fill="#228B22"/>
                            <path d="M 70 20 L 70 140" stroke="#1a6b1a" stroke-width="3"/>
                            <path d="M 70 50 L 30 30" stroke="#1a6b1a" stroke-width="2"/>
                            <path d="M 70 50 L 110 30" stroke="#1a6b1a" stroke-width="2"/>
                            <path d="M 70 80 L 25 60" stroke="#1a6b1a" stroke-width="2"/>
                            <path d="M 70 80 L 115 60" stroke="#1a6b1a" stroke-width="2"/>
                            <path d="M 70 110 L 35 100" stroke="#1a6b1a" stroke-width="2"/>
                            <path d="M 70 110 L 105 100" stroke="#1a6b1a" stroke-width="2"/>
                        </g>
                        <text x="70" y="170" text-anchor="middle" fill="#4CAF50" font-size="9">‚úì Leaf shape from flat plane!</text>
                    </g>
                    
                    <!-- Benefits box -->
                    <g transform="translate(650, 55)">
                        <rect x="0" y="0" width="170" height="140" rx="8" fill="#252525" stroke="#4CAF50" stroke-width="2"/>
                        <text x="85" y="25" text-anchor="middle" fill="#4CAF50" font-size="11" font-weight="bold">Why Use Masked?</text>
                        <text x="15" y="50" fill="#aaa" font-size="10">‚úì Complex shapes</text>
                        <text x="15" y="70" fill="#aaa" font-size="10">‚úì Low poly count</text>
                        <text x="15" y="90" fill="#aaa" font-size="10">‚úì Better than translucent</text>
                        <text x="15" y="110" fill="#aaa" font-size="10">‚úì Proper depth sorting</text>
                        <text x="15" y="130" fill="#aaa" font-size="10">‚úì Receives shadows</text>
                    </g>
                </svg>
                <p class="caption"><em>Figure: Masked materials combine color textures with alpha masks to create complex shapes from simple geometry.</em></p>

                <h3>Common Masked Material Uses</h3>

                <p><strong>Foliage:</strong> Leaves, grass, and plants use masked materials extensively. A simple card (two triangles) can display a detailed leaf shape.</p>

                <p><strong>Fences and Grates:</strong> Chain-link fences, ventilation grates, and railings use masks to show the gaps between solid parts.</p>

                <p><strong>Hair Cards:</strong> Character hair often uses textured planes with masked materials for individual strand detail without millions of polygons.</p>

                <p><strong>Decals:</strong> Many decals use masked materials for hard-edged shapes like logos, signs, and symbols.</p>

                <h3>The Clip Value Explained</h3>

                <p>The <strong>Opacity Mask Clip Value</strong> determines the threshold between visible and invisible. If your mask texture has a pixel with value 0.5:</p>

                <ul>
                    <li>Clip Value 0.3 ‚Üí 0.5 > 0.3 ‚Üí Pixel is <strong>visible</strong></li>
                    <li>Clip Value 0.6 ‚Üí 0.5 < 0.6 ‚Üí Pixel is <strong>invisible</strong></li>
                </ul>

                <p>Adjusting the clip value lets you fine-tune the mask edge without changing the texture. Lower values reveal more; higher values cut more away.</p>

                <!-- Mermaid: Clip Value Decision -->
                <pre class="mermaid">
flowchart LR
    subgraph Input["Mask Pixel Value"]
        P["Pixel: 0.5"]
    end
    
    subgraph Compare["Compare to Clip Value"]
        C1["Clip: 0.33\n0.5 > 0.33"]
        C2["Clip: 0.5\n0.5 = 0.5"]
        C3["Clip: 0.75\n0.5 < 0.75"]
    end
    
    subgraph Result["Result"]
        R1["‚úì VISIBLE"]
        R2["Edge case\n(implementation varies)"]
        R3["‚úó INVISIBLE"]
    end
    
    P --> C1 --> R1
    P --> C2 --> R2
    P --> C3 --> R3
    
    style R1 fill:#4CAF50,color:#fff
    style R2 fill:#ffc107,color:#333
    style R3 fill:#e74c3c,color:#fff
                </pre>
                <p class="caption"><em>Figure: The Opacity Mask Clip Value determines the visibility threshold.</em></p>

                <h3>Two-Sided Foliage</h3>

                <p>For leaves and other thin masked surfaces, enable <strong>Two Sided</strong> so both sides render. Additionally, enable the <strong>Two Sided Foliage</strong> shading model if you want light to transmit through the surface‚Äîmaking leaves glow when backlit by the sun.</p>

                <p>To use Two Sided Foliage shading:</p>

                <p><strong>Step 1:</strong> In Details, set <strong>Shading Model</strong> to <strong>Two Sided Foliage</strong>.</p>

                <p><strong>Step 2:</strong> A new input appears: <strong>Subsurface Color</strong>. This controls the color of light passing through. For leaves, use a warm yellow-green.</p>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip: Dithered Opacity for LODs</h4>
                    <p>For foliage that needs to fade out with distance (LOD transitions), consider using <strong>Dithered Opacity Mask</strong> instead of a hard cutoff. This creates a stippled fade effect that's less jarring than a sudden pop. Enable it via the <strong>Dithered LOD Transition</strong> checkbox in material settings.</p>
                </div>

                <h3>Masked vs Translucent: When to Choose</h3>

                <!-- SVG: Comparison Table -->
                <svg width="100%" height="260" viewBox="0 0 800 260" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #f9f9f9;">
                    <text x="400" y="30" text-anchor="middle" fill="#333" font-size="16" font-weight="bold">Masked vs Translucent: Quick Reference</text>
                    
                    <!-- Headers -->
                    <rect x="50" y="50" width="200" height="35" fill="#667eea"/>
                    <text x="150" y="73" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Feature</text>
                    
                    <rect x="250" y="50" width="200" height="35" fill="#4CAF50"/>
                    <text x="350" y="73" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Masked</text>
                    
                    <rect x="450" y="50" width="200" height="35" fill="#FF9800"/>
                    <text x="550" y="73" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">Translucent</text>
                    
                    <!-- Row 1: Transparency -->
                    <rect x="50" y="85" width="200" height="30" fill="#fff" stroke="#ddd"/>
                    <text x="150" y="105" text-anchor="middle" fill="#333" font-size="10">Transparency Type</text>
                    <rect x="250" y="85" width="200" height="30" fill="#e8f5e9" stroke="#ddd"/>
                    <text x="350" y="105" text-anchor="middle" fill="#333" font-size="10">Binary (on/off)</text>
                    <rect x="450" y="85" width="200" height="30" fill="#fff3e0" stroke="#ddd"/>
                    <text x="550" y="105" text-anchor="middle" fill="#333" font-size="10">Gradual (0-100%)</text>
                    
                    <!-- Row 2: Performance -->
                    <rect x="50" y="115" width="200" height="30" fill="#f5f5f5" stroke="#ddd"/>
                    <text x="150" y="135" text-anchor="middle" fill="#333" font-size="10">Performance</text>
                    <rect x="250" y="115" width="200" height="30" fill="#c8e6c9" stroke="#ddd"/>
                    <text x="350" y="135" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">Better ‚úì</text>
                    <rect x="450" y="115" width="200" height="30" fill="#ffe0b2" stroke="#ddd"/>
                    <text x="550" y="135" text-anchor="middle" fill="#e65100" font-size="10">More expensive</text>
                    
                    <!-- Row 3: Depth/Shadows -->
                    <rect x="50" y="145" width="200" height="30" fill="#fff" stroke="#ddd"/>
                    <text x="150" y="165" text-anchor="middle" fill="#333" font-size="10">Depth & Shadows</text>
                    <rect x="250" y="145" width="200" height="30" fill="#e8f5e9" stroke="#ddd"/>
                    <text x="350" y="165" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">Full support ‚úì</text>
                    <rect x="450" y="145" width="200" height="30" fill="#fff3e0" stroke="#ddd"/>
                    <text x="550" y="165" text-anchor="middle" fill="#333" font-size="10">Limited / Complex</text>
                    
                    <!-- Row 4: Sorting -->
                    <rect x="50" y="175" width="200" height="30" fill="#f5f5f5" stroke="#ddd"/>
                    <text x="150" y="195" text-anchor="middle" fill="#333" font-size="10">Sorting Issues</text>
                    <rect x="250" y="175" width="200" height="30" fill="#c8e6c9" stroke="#ddd"/>
                    <text x="350" y="195" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">None ‚úì</text>
                    <rect x="450" y="175" width="200" height="30" fill="#ffe0b2" stroke="#ddd"/>
                    <text x="550" y="195" text-anchor="middle" fill="#e65100" font-size="10">Can occur</text>
                    
                    <!-- Row 5: Use Cases -->
                    <rect x="50" y="205" width="200" height="35" fill="#fff" stroke="#ddd"/>
                    <text x="150" y="227" text-anchor="middle" fill="#333" font-size="10">Best For</text>
                    <rect x="250" y="205" width="200" height="35" fill="#e8f5e9" stroke="#ddd"/>
                    <text x="350" y="222" text-anchor="middle" fill="#333" font-size="9">Foliage, fences, hair,</text>
                    <text x="350" y="235" text-anchor="middle" fill="#333" font-size="9">hard-edged cutouts</text>
                    <rect x="450" y="205" width="200" height="35" fill="#fff3e0" stroke="#ddd"/>
                    <text x="550" y="222" text-anchor="middle" fill="#333" font-size="9">Glass, water, smoke,</text>
                    <text x="550" y="235" text-anchor="middle" fill="#333" font-size="9">soft-edged effects</text>
                </svg>
                <p class="caption"><em>Figure: Choose Masked when possible for better performance; use Translucent only when gradual transparency is essential.</em></p>
            </section>
            <!-- Section 4: Emissive Materials -->
            <section id="emissive" class="lesson-section">
                <h2>Emissive Materials (Glow Effects)</h2>

                <p>Emissive materials appear to glow‚Äîthey emit light rather than just reflecting it. Neon signs, computer screens, magic effects, lava, bioluminescent creatures‚Äîall use emissive materials. The beauty is that emissive surfaces look bright even in dark environments, creating striking visual effects.</p>

                <div class="card" style="background: #1a1a2e; border-left: 4px solid #667eea;">
                    <h4>üìñ Definition</h4>
                    <p style="color: white;"><strong>Emissive Color:</strong> A material input that adds light output to the surface. Unlike Base Color which responds to lighting, Emissive Color is added directly to the final pixel color regardless of scene lighting. Values above 1.0 create HDR bloom effects.</p>
                </div>

                <h3>Basic Emissive Setup</h3>

                <p>Every material has an <strong>Emissive Color</strong> input on the main material node. Connect a color value here to make the surface glow. The material can still be Opaque‚Äîemissive works with any blend mode.</p>

                <p><strong>Step 1:</strong> Create a new material or open an existing one.</p>

                <p><strong>Step 2:</strong> Add a <strong>Vector Parameter</strong> for the glow color. Name it <code>Emissive_Color</code>. Set a vibrant color like bright cyan (0, 1, 1).</p>

                <p><strong>Step 3:</strong> Add a <strong>Scalar Parameter</strong> for intensity. Name it <code>Emissive_Intensity</code>. Set default to 5.0, with Slider Max around 50.</p>

                <p><strong>Step 4:</strong> Create a <strong>Multiply</strong> node. Connect the color to A and intensity to B.</p>

                <p><strong>Step 5:</strong> Connect the Multiply output to <strong>Emissive Color</strong> on the main material node.</p>

                <!-- SVG: Emissive Material Setup -->
                <svg width="100%" height="280" viewBox="0 0 800 280" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="400" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Emissive Material Node Setup</text>
                    
                    <!-- Emissive Color Parameter -->
                    <g transform="translate(50, 60)">
                        <rect x="0" y="0" width="150" height="55" rx="5" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="75" y="18" text-anchor="middle" fill="#4CAF50" font-size="9" font-weight="bold">Vector Parameter</text>
                        <text x="75" y="35" text-anchor="middle" fill="#aaa" font-size="9">Emissive_Color</text>
                        <rect x="15" y="40" width="20" height="10" fill="#00ffff" stroke="#fff"/>
                        <text x="45" y="48" fill="#aaa" font-size="7">(0, 1, 1)</text>
                        <circle cx="150" cy="30" r="5" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Emissive Intensity Parameter -->
                    <g transform="translate(50, 140)">
                        <rect x="0" y="0" width="150" height="55" rx="5" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="75" y="18" text-anchor="middle" fill="#4CAF50" font-size="9" font-weight="bold">Scalar Parameter</text>
                        <text x="75" y="35" text-anchor="middle" fill="#aaa" font-size="9">Emissive_Intensity</text>
                        <text x="75" y="48" fill="#aaa" font-size="8">Default: 5.0</text>
                        <circle cx="150" cy="30" r="5" fill="#888"/>
                    </g>
                    
                    <!-- Multiply Node -->
                    <g transform="translate(280, 95)">
                        <rect x="0" y="0" width="100" height="70" rx="5" fill="#3d3d3d" stroke="#888" stroke-width="1"/>
                        <text x="50" y="20" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Multiply</text>
                        <circle cx="0" cy="30" r="5" fill="#f1c40f"/>
                        <text x="12" y="33" fill="#aaa" font-size="8">A</text>
                        <circle cx="0" cy="50" r="5" fill="#888"/>
                        <text x="12" y="53" fill="#aaa" font-size="8">B</text>
                        <circle cx="100" cy="40" r="5" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Wires to Multiply -->
                    <path d="M 200 90 L 240 90 L 240 125 L 280 125" stroke="#f1c40f" stroke-width="2" fill="none"/>
                    <path d="M 200 170 L 240 170 L 240 145 L 280 145" stroke="#888" stroke-width="2" fill="none"/>
                    
                    <!-- Main Material Node -->
                    <g transform="translate(480, 55)">
                        <rect x="0" y="0" width="260" height="170" rx="8" fill="#2d2d2d" stroke="#f1c40f" stroke-width="2"/>
                        <rect x="0" y="0" width="260" height="30" rx="8" fill="#f1c40f"/>
                        <rect x="0" y="22" width="260" height="8" fill="#f1c40f"/>
                        <text x="130" y="20" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">M_Emissive_Glow</text>
                        
                        <circle cx="0" cy="55" r="5" fill="#f1c40f"/>
                        <text x="15" y="58" fill="#aaa" font-size="9">Base Color</text>
                        
                        <circle cx="0" cy="85" r="5" fill="#888"/>
                        <text x="15" y="88" fill="#aaa" font-size="9">Metallic</text>
                        
                        <circle cx="0" cy="115" r="5" fill="#888"/>
                        <text x="15" y="118" fill="#aaa" font-size="9">Roughness</text>
                        
                        <circle cx="0" cy="145" r="5" fill="#00ffff" stroke="#fff" stroke-width="2"/>
                        <text x="15" y="148" fill="#00ffff" font-size="9" font-weight="bold">Emissive Color</text>
                        
                        <!-- Glow preview -->
                        <circle cx="190" cy="100" r="45" fill="#001a1a"/>
                        <circle cx="190" cy="100" r="40" fill="url(#glowGradient)"/>
                        <defs>
                            <radialGradient id="glowGradient" cx="50%" cy="50%">
                                <stop offset="0%" style="stop-color:#00ffff"/>
                                <stop offset="60%" style="stop-color:#006666"/>
                                <stop offset="100%" style="stop-color:#001a1a"/>
                            </radialGradient>
                        </defs>
                    </g>
                    
                    <!-- Wire from Multiply to Emissive -->
                    <path d="M 380 135 L 430 135 L 430 200 L 480 200" stroke="#00ffff" stroke-width="2" fill="none"/>
                    
                    <!-- Note about HDR -->
                    <rect x="50" y="220" width="700" height="40" rx="5" fill="rgba(0,255,255,0.1)" stroke="#00ffff"/>
                    <text x="400" y="245" text-anchor="middle" fill="#00ffff" font-size="11">üí° Values above 1.0 create HDR bloom when Post Process bloom is enabled!</text>
                </svg>
                <p class="caption"><em>Figure: Multiplying color by intensity allows easy control over glow brightness.</em></p>

                <h3>Understanding HDR and Bloom</h3>

                <p>Emissive values above 1.0 enter <strong>HDR (High Dynamic Range)</strong> territory. These super-bright values trigger the <strong>Bloom</strong> post-process effect, creating that characteristic glow halo around bright objects.</p>

                <p>The relationship between intensity and visual result:</p>

                <p><strong>0.0 - 1.0:</strong> Normal brightness range. Visible but no bloom effect.</p>

                <p><strong>1.0 - 5.0:</strong> Bright with subtle bloom. Good for screens, indicator lights.</p>

                <p><strong>5.0 - 20.0:</strong> Strong glow with noticeable bloom halo. Neon signs, magic effects.</p>

                <p><strong>20.0+:</strong> Intense, almost blinding glow. Sun-like effects, explosions.</p>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip: Check Your Post Process</h4>
                    <p>Bloom must be enabled in your Post Process Volume for the glow halo effect to appear. If your emissive materials look flat, check <strong>Post Process Volume ‚Üí Lens ‚Üí Bloom ‚Üí Intensity</strong>. A value around 0.5-1.0 gives natural-looking bloom.</p>
                </div>

                <h3>Emissive Textures</h3>

                <p>Instead of a solid color, you can use textures to control which parts of a surface glow. This is perfect for:</p>

                <p><strong>Control panels:</strong> Buttons and screens glow while the frame stays dark</p>

                <p><strong>Circuit patterns:</strong> Glowing lines on a dark surface</p>

                <p><strong>Lava cracks:</strong> Bright emissive in the cracks, dark rock elsewhere</p>

                <p>Create or import a texture where bright areas represent glowing regions. Multiply this texture by your emissive color and intensity, then connect to Emissive Color.</p>

                <!-- SVG: Emissive Texture Example -->
                <svg width="100%" height="200" viewBox="0 0 800 200" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #252525;">
                    <text x="400" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Emissive Texture Masking</text>
                    
                    <!-- Base texture -->
                    <g transform="translate(80, 55)">
                        <text x="60" y="-5" text-anchor="middle" fill="#aaa" font-size="10">Base Color</text>
                        <rect x="0" y="0" width="120" height="120" fill="#333" stroke="#555" stroke-width="2"/>
                        <!-- Panel design -->
                        <rect x="10" y="10" width="100" height="100" fill="#444" rx="3"/>
                        <rect x="20" y="20" width="30" height="20" fill="#555"/>
                        <rect x="60" y="20" width="50" height="20" fill="#555"/>
                        <rect x="20" y="50" width="80" height="40" fill="#555"/>
                        <circle cx="30" cy="105" r="8" fill="#555"/>
                        <circle cx="60" cy="105" r="8" fill="#555"/>
                        <circle cx="90" cy="105" r="8" fill="#555"/>
                    </g>
                    
                    <!-- Plus -->
                    <text x="240" y="115" fill="#667eea" font-size="24">+</text>
                    
                    <!-- Emissive mask -->
                    <g transform="translate(280, 55)">
                        <text x="60" y="-5" text-anchor="middle" fill="#aaa" font-size="10">Emissive Mask</text>
                        <rect x="0" y="0" width="120" height="120" fill="#000" stroke="#555" stroke-width="2"/>
                        <!-- Glowing parts in white -->
                        <rect x="20" y="50" width="80" height="40" fill="#fff"/>
                        <circle cx="30" cy="105" r="8" fill="#fff"/>
                        <circle cx="60" cy="105" r="8" fill="#fff"/>
                        <circle cx="90" cy="105" r="8" fill="#fff"/>
                    </g>
                    
                    <!-- Equals -->
                    <text x="440" y="115" fill="#667eea" font-size="24">=</text>
                    
                    <!-- Result -->
                    <g transform="translate(480, 55)">
                        <text x="60" y="-5" text-anchor="middle" fill="#aaa" font-size="10">Final Result</text>
                        <rect x="0" y="0" width="120" height="120" fill="#333" stroke="#00ffff" stroke-width="2"/>
                        <!-- Panel with glow -->
                        <rect x="10" y="10" width="100" height="100" fill="#444" rx="3"/>
                        <rect x="20" y="20" width="30" height="20" fill="#555"/>
                        <rect x="60" y="20" width="50" height="20" fill="#555"/>
                        <!-- Glowing screen -->
                        <rect x="20" y="50" width="80" height="40" fill="#00ffff">
                            <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
                        </rect>
                        <!-- Glowing buttons -->
                        <circle cx="30" cy="105" r="8" fill="#00ff00"/>
                        <circle cx="60" cy="105" r="8" fill="#ffff00"/>
                        <circle cx="90" cy="105" r="8" fill="#ff0000"/>
                    </g>
                    
                    <!-- Glow halos (simulated) -->
                    <circle cx="540" cy="125" r="20" fill="url(#btnGlow1)" opacity="0.3"/>
                    <circle cx="570" cy="125" r="20" fill="url(#btnGlow2)" opacity="0.3"/>
                    <circle cx="600" cy="125" r="20" fill="url(#btnGlow3)" opacity="0.3"/>
                    
                    <defs>
                        <radialGradient id="btnGlow1">
                            <stop offset="0%" style="stop-color:#00ff00"/>
                            <stop offset="100%" style="stop-color:transparent"/>
                        </radialGradient>
                        <radialGradient id="btnGlow2">
                            <stop offset="0%" style="stop-color:#ffff00"/>
                            <stop offset="100%" style="stop-color:transparent"/>
                        </radialGradient>
                        <radialGradient id="btnGlow3">
                            <stop offset="0%" style="stop-color:#ff0000"/>
                            <stop offset="100%" style="stop-color:transparent"/>
                        </radialGradient>
                    </defs>
                    
                    <text x="660" y="115" fill="#4CAF50" font-size="10">Only masked</text>
                    <text x="660" y="130" fill="#4CAF50" font-size="10">areas glow!</text>
                </svg>
                <p class="caption"><em>Figure: An emissive mask texture controls which parts of a surface appear to glow.</em></p>

                <h3>Animated Emissives</h3>

                <p>Emissive materials become even more impactful when animated. Pulsing lights, flickering screens, energy flowing through circuits‚Äîall achieved by animating the emissive intensity or color over time.</p>

                <p>Use the <strong>Time</strong> node combined with <strong>Sine</strong> to create smooth pulsing:</p>

                <p><strong>Time ‚Üí Multiply (speed) ‚Üí Sine ‚Üí Remap/Abs ‚Üí Multiply with color</strong></p>

                <p>The Sine node outputs values from -1 to 1. Use <strong>Abs</strong> (absolute value) for 0 to 1 range, or add 1 and divide by 2 for the same effect.</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Emissive Doesn't Cast Light (By Default)</h4>
                    <p>Emissive materials <em>appear</em> to glow but don't actually illuminate nearby surfaces by default. For true light emission, you need to either:</p>
                    <ul>
                        <li>Add a Point/Spot Light near the emissive surface</li>
                        <li>Enable <strong>Use Emissive for Static Lighting</strong> (for baked lighting)</li>
                        <li>Use Lumen (UE5's global illumination) which handles emissive light bounce</li>
                    </ul>
                </div>

                <h3>Emissive with Lumen</h3>

                <p>Unreal Engine 5's <strong>Lumen</strong> global illumination system can make emissive surfaces actually cast light onto nearby geometry. This creates incredibly realistic lighting from screens, signs, and glowing objects.</p>

                <p>For Lumen to pick up emissive lighting, the emissive intensity generally needs to be quite high (50+). Adjust to taste while watching the light contribution in your scene. Lumen emissive lighting is fully dynamic‚Äîanimate the emissive, and the light it casts updates in real-time.</p>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Watch Out: Performance with Many Emissive Lights</h4>
                    <p>While Lumen handles emissive lighting beautifully, having many bright emissive surfaces all casting light can impact performance. Use emissive lighting strategically‚Äîit's most effective on larger surfaces or key focal points rather than scattered across hundreds of small objects.</p>
                </div>
            </section>

            <!-- Section 5: Decals -->
            <section id="decals" class="lesson-section">
                <h2>Decals</h2>

                <p>Decals project materials onto other surfaces without modifying their geometry. Think of them like stickers for your 3D world‚Äîbullet holes on walls, dirt on floors, graffiti on buildings, blood splatters, footprints, and warning signs all use decals. They're incredibly versatile and performance-friendly.</p>

                <div class="card" style="background: #1a1a2e; border-left: 4px solid #667eea;">
                    <h4>üìñ Definition</h4>
                    <p style="color: white;"><strong>Decal:</strong> A material projected onto scene geometry from a box-shaped volume. The decal material modifies the appearance of surfaces it touches‚Äîadding color, normal detail, roughness changes, or combinations thereof‚Äîwithout altering the underlying mesh.</p>
                </div>

                <h3>How Decals Work</h3>

                <p>Decals use a <strong>Decal Actor</strong> that defines a projection volume (a box). Any surface geometry inside this box receives the decal material projected onto it. The decal follows the surface's shape, wrapping around corners and conforming to uneven terrain.</p>

                <!-- Mermaid: Decal Projection Concept -->
                <pre class="mermaid">
flowchart LR
    subgraph DecalActor["Decal Actor"]
        Box["Projection Box\n(defines area)"]
        Mat["Decal Material\n(what to project)"]
    end
    
    subgraph Scene["Scene Geometry"]
        Wall["Wall"]
        Floor["Floor"]
        Prop["Prop"]
    end
    
    subgraph Result["Result"]
        R1["Decal appears on\nall surfaces in box"]
        R2["Conforms to\nsurface shape"]
        R3["No mesh modification"]
    end
    
    Box --> Wall
    Box --> Floor
    Box --> Prop
    Mat --> R1
    Wall --> R2
    Floor --> R2
    Prop --> R2
    R2 --> R3
    
    style DecalActor fill:#667eea,color:#fff
    style Result fill:#4CAF50,color:#fff
                </pre>
                <p class="caption"><em>Figure: Decals project their material onto any geometry within their volume.</em></p>

                <h3>Creating a Decal Material</h3>

                <p><strong>Step 1:</strong> Create a new Material. In the Details panel, change <strong>Material Domain</strong> from Surface to <strong>Deferred Decal</strong>.</p>

                <p><strong>Step 2:</strong> Set the <strong>Blend Mode</strong> appropriately:</p>
                <ul>
                    <li><strong>Translucent:</strong> For decals with soft edges or partial transparency</li>
                    <li><strong>Masked:</strong> For decals with hard cutout edges</li>
                </ul>

                <p><strong>Step 3:</strong> Choose what the decal affects via <strong>Decal Blend Mode</strong>:</p>
                <ul>
                    <li><strong>Translucent:</strong> Affects Base Color, Metallic, Specular, Roughness, Normal, Emissive</li>
                    <li><strong>Stain:</strong> Only affects Base Color (good for dirt/stains that shouldn't change roughness)</li>
                    <li><strong>Normal:</strong> Only affects Normal (for adding surface detail without color change)</li>
                    <li><strong>Emissive:</strong> Only affects Emissive (for glowing decals like neon signs)</li>
                </ul>

                <p><strong>Step 4:</strong> Connect your textures to the appropriate outputs. Most decals need at least a Base Color (or Emissive) and an Opacity Mask.</p>

                <!-- SVG: Decal Material Setup -->
                <svg width="100%" height="300" viewBox="0 0 800 300" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="400" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Decal Material Configuration</text>
                    
                    <!-- Settings Panel -->
                    <g transform="translate(50, 55)">
                        <rect x="0" y="0" width="280" height="200" rx="8" fill="#252525" stroke="#667eea" stroke-width="2"/>
                        <rect x="0" y="0" width="280" height="30" rx="8" fill="#667eea"/>
                        <text x="140" y="20" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Material Settings</text>
                        
                        <text x="15" y="55" fill="#aaa" font-size="10">Material Domain:</text>
                        <rect x="150" y="42" width="115" height="20" rx="3" fill="#4CAF50"/>
                        <text x="207" y="56" text-anchor="middle" fill="#fff" font-size="9">Deferred Decal</text>
                        
                        <text x="15" y="85" fill="#aaa" font-size="10">Blend Mode:</text>
                        <rect x="150" y="72" width="115" height="20" rx="3" fill="#FF9800"/>
                        <text x="207" y="86" text-anchor="middle" fill="#fff" font-size="9">Translucent</text>
                        
                        <text x="15" y="115" fill="#aaa" font-size="10">Decal Blend Mode:</text>
                        <rect x="150" y="102" width="115" height="20" rx="3" fill="#2196F3"/>
                        <text x="207" y="116" text-anchor="middle" fill="#fff" font-size="9">Translucent</text>
                        
                        <line x1="15" y1="135" x2="265" y2="135" stroke="#444" stroke-width="1"/>
                        
                        <text x="15" y="155" fill="#667eea" font-size="10" font-weight="bold">Decal Blend Mode Options:</text>
                        <text x="25" y="175" fill="#aaa" font-size="9">‚Ä¢ Translucent - All properties</text>
                        <text x="25" y="190" fill="#aaa" font-size="9">‚Ä¢ Stain - Color only (dirt)</text>
                        <text x="25" y="205" fill="#aaa" font-size="9">‚Ä¢ Normal - Normals only (detail)</text>
                        <text x="25" y="220" fill="#aaa" font-size="9">‚Ä¢ Emissive - Glow only (signs)</text>
                    </g>
                    
                    <!-- Node Graph -->
                    <g transform="translate(380, 55)">
                        <text x="180" y="0" text-anchor="middle" fill="#aaa" font-size="11">Typical Decal Node Setup</text>
                        
                        <!-- Texture nodes -->
                        <rect x="0" y="20" width="130" height="45" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="65" y="40" text-anchor="middle" fill="#aaa" font-size="9">Texture Sample</text>
                        <text x="65" y="55" text-anchor="middle" fill="#666" font-size="8">T_Decal_BulletHole</text>
                        <circle cx="130" cy="35" r="4" fill="#f1c40f"/>
                        <circle cx="130" cy="50" r="4" fill="#888"/>
                        
                        <!-- Main material node -->
                        <g transform="translate(200, 10)">
                            <rect x="0" y="0" width="180" height="180" rx="8" fill="#2d2d2d" stroke="#f1c40f" stroke-width="2"/>
                            <rect x="0" y="0" width="180" height="25" rx="8" fill="#f1c40f"/>
                            <rect x="0" y="18" width="180" height="7" fill="#f1c40f"/>
                            <text x="90" y="17" text-anchor="middle" fill="#333" font-size="9" font-weight="bold">M_Decal_BulletHole</text>
                            
                            <circle cx="0" cy="50" r="4" fill="#f1c40f"/>
                            <text x="12" y="53" fill="#aaa" font-size="8">Base Color</text>
                            
                            <circle cx="0" cy="75" r="4" fill="#888"/>
                            <text x="12" y="78" fill="#aaa" font-size="8">Metallic</text>
                            
                            <circle cx="0" cy="100" r="4" fill="#888"/>
                            <text x="12" y="103" fill="#aaa" font-size="8">Roughness</text>
                            
                            <circle cx="0" cy="125" r="4" fill="#6688ff"/>
                            <text x="12" y="128" fill="#aaa" font-size="8">Normal</text>
                            
                            <circle cx="0" cy="150" r="4" fill="#fff" stroke="#667eea" stroke-width="2"/>
                            <text x="12" y="153" fill="#667eea" font-size="8" font-weight="bold">Opacity</text>
                        </g>
                        
                        <!-- Wires -->
                        <path d="M 130 35 L 160 35 L 160 60 L 200 60" stroke="#f1c40f" stroke-width="1.5" fill="none"/>
                        <path d="M 130 50 L 150 50 L 150 160 L 200 160" stroke="#888" stroke-width="1.5" fill="none"/>
                        
                        <!-- Note -->
                        <text x="65" y="90" text-anchor="middle" fill="#888" font-size="8">RGB ‚Üí Base Color</text>
                        <text x="65" y="105" text-anchor="middle" fill="#888" font-size="8">Alpha ‚Üí Opacity</text>
                    </g>
                </svg>
                <p class="caption"><em>Figure: Decal materials use Deferred Decal domain with appropriate blend modes.</em></p>

                <h3>Placing Decals in Your Level</h3>

                <p><strong>Method 1 - Drag and Drop:</strong> Drag your Decal Material directly from Content Browser into the viewport. Unreal creates a Decal Actor automatically.</p>

                <p><strong>Method 2 - Decal Actor:</strong> Place ‚Üí All Classes ‚Üí search "Decal". Then assign your decal material in the Details panel.</p>

                <p>Once placed, adjust the decal's transform:</p>

                <ul>
                    <li><strong>Position:</strong> Move the decal to where you want the effect</li>
                    <li><strong>Rotation:</strong> Rotate to face the surface (the decal projects along its local X axis)</li>
                    <li><strong>Scale:</strong> Resize the projection box‚Äîlarger scale means the decal covers more area</li>
                </ul>

                <p>In the Decal Actor's Details panel, adjust <strong>Decal Size</strong> for more precise control over the projection volume dimensions.</p>

                <h3>Decal Sorting and Priority</h3>

                <p>When multiple decals overlap, you need to control which one appears on top. Use the <strong>Sort Order</strong> property in the Decal Actor's Details panel. Higher values render on top of lower values.</p>

                <p>For example:</p>
                <ul>
                    <li>Base dirt layer: Sort Order 0</li>
                    <li>Graffiti on wall: Sort Order 1</li>
                    <li>Bullet hole on graffiti: Sort Order 2</li>
                </ul>

                <div class="card" style="background: #e8f5e9; border-left: 4px solid #4CAF50;">
                    <h4>‚úÖ Pro Tip: Decal Performance</h4>
                    <p>Decals are generally cheap, but a few practices keep them optimized:</p>
                    <ul>
                        <li>Keep projection volumes as small as needed‚Äîlarge decals test against more scene geometry</li>
                        <li>Use appropriate Decal Blend Mode‚ÄîStain is cheaper than Translucent</li>
                        <li>Limit overlapping decals in the same area</li>
                        <li>Use <strong>Receives Decals</strong> = false on objects that shouldn't receive them</li>
                    </ul>
                </div>

                <h3>Common Decal Uses</h3>

                <p><strong>Environmental storytelling:</strong> Dirt buildup, water stains, rust, graffiti, posters, warning signs‚Äîall without modeling these details into every mesh.</p>

                <p><strong>Gameplay feedback:</strong> Bullet impacts, explosion scorch marks, blood splatters, footprints in snow. These are often spawned dynamically during gameplay.</p>

                <p><strong>Detail enhancement:</strong> Add normal-only decals to break up flat walls with cracks, scratches, or surface imperfections.</p>

                <p><strong>Signage and UI:</strong> In-world text, logos, and interface elements that need to appear on arbitrary surfaces.</p>

                <!-- SVG: Decal Use Cases -->
                <svg width="100%" height="180" viewBox="0 0 800 180" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #f9f9f9;">
                    <text x="400" y="25" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">Common Decal Applications</text>
                    
                    <!-- Environmental -->
                    <g transform="translate(50, 45)">
                        <rect x="0" y="0" width="160" height="110" rx="8" fill="#fff" stroke="#667eea" stroke-width="2"/>
                        <text x="80" y="25" text-anchor="middle" fill="#667eea" font-size="11" font-weight="bold">üèöÔ∏è Environmental</text>
                        <text x="80" y="48" text-anchor="middle" fill="#555" font-size="9">Dirt, rust, stains</text>
                        <text x="80" y="63" text-anchor="middle" fill="#555" font-size="9">Graffiti, posters</text>
                        <text x="80" y="78" text-anchor="middle" fill="#555" font-size="9">Cracks, damage</text>
                        <text x="80" y="98" text-anchor="middle" fill="#888" font-size="8">Usually static, placed in editor</text>
                    </g>
                    
                    <!-- Gameplay -->
                    <g transform="translate(240, 45)">
                        <rect x="0" y="0" width="160" height="110" rx="8" fill="#fff" stroke="#FF9800" stroke-width="2"/>
                        <text x="80" y="25" text-anchor="middle" fill="#FF9800" font-size="11" font-weight="bold">üéÆ Gameplay</text>
                        <text x="80" y="48" text-anchor="middle" fill="#555" font-size="9">Bullet holes</text>
                        <text x="80" y="63" text-anchor="middle" fill="#555" font-size="9">Explosion marks</text>
                        <text x="80" y="78" text-anchor="middle" fill="#555" font-size="9">Blood, footprints</text>
                        <text x="80" y="98" text-anchor="middle" fill="#888" font-size="8">Spawned at runtime</text>
                    </g>
                    
                    <!-- Detail -->
                    <g transform="translate(430, 45)">
                        <rect x="0" y="0" width="160" height="110" rx="8" fill="#fff" stroke="#4CAF50" stroke-width="2"/>
                        <text x="80" y="25" text-anchor="middle" fill="#4CAF50" font-size="11" font-weight="bold">‚ú® Detail</text>
                        <text x="80" y="48" text-anchor="middle" fill="#555" font-size="9">Normal-only scratches</text>
                        <text x="80" y="63" text-anchor="middle" fill="#555" font-size="9">Surface imperfections</text>
                        <text x="80" y="78" text-anchor="middle" fill="#555" font-size="9">Tile variation</text>
                        <text x="80" y="98" text-anchor="middle" fill="#888" font-size="8">Breaks up repetition</text>
                    </g>
                    
                    <!-- Signage -->
                    <g transform="translate(620, 45)">
                        <rect x="0" y="0" width="130" height="110" rx="8" fill="#fff" stroke="#e91e63" stroke-width="2"/>
                        <text x="65" y="25" text-anchor="middle" fill="#e91e63" font-size="11" font-weight="bold">üìù Signage</text>
                        <text x="65" y="48" text-anchor="middle" fill="#555" font-size="9">Warning labels</text>
                        <text x="65" y="63" text-anchor="middle" fill="#555" font-size="9">Logos, text</text>
                        <text x="65" y="78" text-anchor="middle" fill="#555" font-size="9">UI elements</text>
                        <text x="65" y="98" text-anchor="middle" fill="#888" font-size="8">Emissive for glow</text>
                    </g>
                </svg>
                <p class="caption"><em>Figure: Decals serve many purposes from environmental detail to dynamic gameplay effects.</em></p>
            </section>

            <!-- Section 6: Landscape Materials Introduction -->
            <section id="landscape" class="lesson-section">
                <h2>Landscape Materials Introduction</h2>

                <p>Landscape materials are specialized materials designed for Unreal's Landscape system‚Äîthe tool for creating large outdoor terrains. Unlike regular materials applied to static meshes, landscape materials need to handle multiple texture layers that blend based on painting, support massive scale with proper tiling, and maintain performance across potentially millions of polygons.</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h4>üí° Scope Note</h4>
                    <p>Landscape creation is a deep topic covered in a later module. This section introduces landscape material concepts so you understand how they differ from standard materials. You'll build complete landscape materials when we explore the Landscape tools in detail.</p>
                </div>

                <h3>What Makes Landscape Materials Different</h3>

                <p>Standard materials apply uniformly across a mesh. Landscape materials instead define multiple <strong>layers</strong> (grass, dirt, rock, snow, etc.) that artists can paint directly onto the terrain in the editor.</p>

                <p>Key differences from regular materials:</p>

                <p><strong>Layer-based:</strong> Multiple complete texture sets that blend together based on painted weight maps</p>

                <p><strong>Tiling considerations:</strong> Must tile seamlessly across enormous distances without obvious repetition</p>

                <p><strong>Performance critical:</strong> Landscapes can have millions of vertices‚Äîmaterial complexity directly impacts frame rate</p>

                <p><strong>Painted blending:</strong> The Landscape tool paints layer weights; the material uses these weights to blend textures</p>

                <!-- Mermaid: Landscape Material Concept -->
                <pre class="mermaid">
flowchart TD
    subgraph Layers["Material Defines Layers"]
        L1["Layer 1: Grass\nGreen, low roughness"]
        L2["Layer 2: Dirt\nBrown, medium roughness"]
        L3["Layer 3: Rock\nGray, high roughness"]
    end
    
    subgraph Painting["Artist Paints Weights"]
        P1["Weight Map\n(per-layer masks)"]
    end
    
    subgraph Blend["Material Blends"]
        B1["Where weight = Grass\nshow grass textures"]
        B2["Where weight = Dirt\nshow dirt textures"]
        B3["Where weight = Rock\nshow rock textures"]
    end
    
    subgraph Result["Final Terrain"]
        R1["Seamless blended\nterrain surface"]
    end
    
    Layers --> Painting
    Painting --> Blend
    Blend --> Result
    
    style Layers fill:#4CAF50,color:#fff
    style Painting fill:#FF9800,color:#fff
    style Blend fill:#667eea,color:#fff
    style Result fill:#2196F3,color:#fff
                </pre>
                <p class="caption"><em>Figure: Landscape materials blend multiple layers based on painted weight maps.</em></p>

                <h3>Landscape Layer Blend Node</h3>

                <p>The core of any landscape material is the <strong>Landscape Layer Blend</strong> node. This node takes multiple inputs (one per layer) and blends them based on the painted layer weights.</p>

                <p>Each layer you add to the node requires:</p>

                <p><strong>Layer Name:</strong> A unique identifier like "Grass", "Dirt", "Rock"‚Äîthis is what appears in the Landscape paint tool</p>

                <p><strong>Blend Type:</strong> How this layer blends with others</p>
                <ul>
                    <li><strong>LB Weight Blend:</strong> Standard painting‚Äîlayers blend based on painted weight</li>
                    <li><strong>LB Alpha Blend:</strong> This layer paints over others completely (good for roads, paths)</li>
                    <li><strong>LB Height Blend:</strong> Uses height information for more natural blending at edges</li>
                </ul>

                <p><strong>Preview Weight:</strong> How much of this layer shows in the material preview (doesn't affect in-game)</p>

                <!-- SVG: Landscape Layer Blend Node -->
                <svg width="100%" height="280" viewBox="0 0 800 280" style="max-width: 800px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="400" y="30" text-anchor="middle" fill="#fff" font-size="16" font-weight="bold">Landscape Layer Blend Node</text>
                    
                    <!-- Layer inputs -->
                    <g transform="translate(50, 60)">
                        <!-- Grass layer -->
                        <rect x="0" y="0" width="150" height="50" rx="5" fill="#4CAF50" opacity="0.3" stroke="#4CAF50" stroke-width="2"/>
                        <text x="75" y="20" text-anchor="middle" fill="#4CAF50" font-size="10" font-weight="bold">Grass Textures</text>
                        <text x="75" y="38" text-anchor="middle" fill="#aaa" font-size="8">Color, Normal, Rough</text>
                        <circle cx="150" cy="25" r="5" fill="#4CAF50"/>
                        
                        <!-- Dirt layer -->
                        <rect x="0" y="65" width="150" height="50" rx="5" fill="#8B4513" opacity="0.3" stroke="#8B4513" stroke-width="2"/>
                        <text x="75" y="85" text-anchor="middle" fill="#cd853f" font-size="10" font-weight="bold">Dirt Textures</text>
                        <text x="75" y="103" text-anchor="middle" fill="#aaa" font-size="8">Color, Normal, Rough</text>
                        <circle cx="150" cy="90" r="5" fill="#8B4513"/>
                        
                        <!-- Rock layer -->
                        <rect x="0" y="130" width="150" height="50" rx="5" fill="#696969" opacity="0.3" stroke="#888" stroke-width="2"/>
                        <text x="75" y="150" text-anchor="middle" fill="#aaa" font-size="10" font-weight="bold">Rock Textures</text>
                        <text x="75" y="168" text-anchor="middle" fill="#aaa" font-size="8">Color, Normal, Rough</text>
                        <circle cx="150" cy="155" r="5" fill="#888"/>
                    </g>
                    
                    <!-- Layer Blend Node -->
                    <g transform="translate(280, 55)">
                        <rect x="0" y="0" width="220" height="170" rx="8" fill="#3d3d3d" stroke="#667eea" stroke-width="2"/>
                        <rect x="0" y="0" width="220" height="30" rx="8" fill="#667eea"/>
                        <text x="110" y="20" text-anchor="middle" fill="#fff" font-size="10" font-weight="bold">Landscape Layer Blend</text>
                        
                        <!-- Layer entries -->
                        <text x="15" y="55" fill="#4CAF50" font-size="9">Layer: Grass</text>
                        <text x="130" y="55" fill="#888" font-size="8">Weight Blend</text>
                        <circle cx="0" cy="52" r="4" fill="#4CAF50"/>
                        
                        <text x="15" y="85" fill="#cd853f" font-size="9">Layer: Dirt</text>
                        <text x="130" y="85" fill="#888" font-size="8">Weight Blend</text>
                        <circle cx="0" cy="82" r="4" fill="#8B4513"/>
                        
                        <text x="15" y="115" fill="#aaa" font-size="9">Layer: Rock</text>
                        <text x="130" y="115" fill="#888" font-size="8">Weight Blend</text>
                        <circle cx="0" cy="112" r="4" fill="#888"/>
                        
                        <line x1="10" y1="135" x2="210" y2="135" stroke="#555"/>
                        
                        <text x="15" y="155" fill="#888" font-size="8">+ Add Layer...</text>
                        
                        <circle cx="220" cy="90" r="5" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Wires -->
                    <path d="M 200 85 L 280 107" stroke="#4CAF50" stroke-width="2" fill="none"/>
                    <path d="M 200 150 L 280 137" stroke="#8B4513" stroke-width="2" fill="none"/>
                    <path d="M 200 215 L 240 215 L 240 167 L 280 167" stroke="#888" stroke-width="2" fill="none"/>
                    
                    <!-- Output to material -->
                    <g transform="translate(580, 80)">
                        <rect x="0" y="0" width="160" height="100" rx="8" fill="#2d2d2d" stroke="#f1c40f" stroke-width="2"/>
                        <rect x="0" y="0" width="160" height="25" rx="8" fill="#f1c40f"/>
                        <text x="80" y="17" text-anchor="middle" fill="#333" font-size="9" font-weight="bold">M_Landscape</text>
                        
                        <circle cx="0" cy="50" r="4" fill="#f1c40f"/>
                        <text x="12" y="53" fill="#aaa" font-size="8">Base Color</text>
                        
                        <circle cx="0" cy="75" r="4" fill="#888"/>
                        <text x="12" y="78" fill="#aaa" font-size="8">Normal, Roughness...</text>
                    </g>
                    
                    <path d="M 500 145 L 580 130" stroke="#f1c40f" stroke-width="2" fill="none"/>
                    
                    <!-- Note -->
                    <rect x="280" y="235" width="440" height="30" rx="5" fill="rgba(102,126,234,0.2)" stroke="#667eea"/>
                    <text x="500" y="255" text-anchor="middle" fill="#fff" font-size="10">One Layer Blend for Color, another for Normal, another for Roughness...</text>
                </svg>
                <p class="caption"><em>Figure: The Landscape Layer Blend node combines multiple texture layers based on painted weights.</em></p>

                <h3>Height-Based Blending</h3>

                <p>Simple weight blending creates soft, uniform transitions between layers. For more natural results, use <strong>height-based blending</strong>. This technique uses a height map for each layer to determine which surface "wins" at blend boundaries.</p>

                <p>For example, at a grass-rock boundary, instead of a smooth gradient, the rock texture appears where its height map is highest (representing raised rock surfaces), while grass fills the lower areas (representing soil between rocks). This creates much more realistic, organic-looking transitions.</p>

                <h3>Tiling and Macro Variation</h3>

                <p>Landscapes stretch across vast distances. A texture that tiles every 2 meters will repeat thousands of times across a terrain, creating obvious patterns visible from any distance.</p>

                <p>Combat repetition with:</p>

                <p><strong>Large tiling values:</strong> Stretch textures further (but they may lose detail up close)</p>

                <p><strong>Distance-based tiling:</strong> Use different tiling for near vs. far viewing distances</p>

                <p><strong>Macro variation textures:</strong> Large-scale color variation overlays that break up patterns</p>

                <p><strong>Detail textures:</strong> High-frequency detail added up close that disappears at distance</p>

                <div class="card" style="background-color: #fff3cd; border-left: 4px solid #ffc107;">
                    <h4>‚ö†Ô∏è Watch Out: Landscape Material Complexity</h4>
                    <p>Every texture sample in a landscape material multiplies across potentially millions of vertices. Landscape materials are often the most performance-critical materials in a project. Keep layer counts reasonable (3-5 layers is common for game projects), and use texture arrays or virtual texturing for larger layer counts.</p>
                </div>

                <h3>When You'll Use Landscape Materials</h3>

                <p>You'll create landscape materials when working with:</p>

                <ul>
                    <li>Outdoor open-world environments</li>
                    <li>Terrain for any ground surface (natural or urban)</li>
                    <li>Large-scale environmental art</li>
                    <li>Games with paintable terrain (strategy games, builders)</li>
                </ul>

                <p>We'll cover landscape material creation in full detail in the Landscape module, including practical exercises building multi-layer terrain materials with proper blending, tiling, and performance optimization.</p>
            </section>
            <!-- Section 7: Hands-On Exercise -->
            <section id="hands-on" class="lesson-section">
                <h2>Hands-On: Create a Glowing Emissive Material</h2>

                <p>Time to put your new skills into practice! In this exercise, you'll create a sci-fi control panel material with glowing elements that pulse over time. This combines emissive techniques with material parameters for maximum flexibility.</p>

                <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196F3;">
                    <h3>üèãÔ∏è Exercise: Pulsing Sci-Fi Panel</h3>
                    
                    <p><strong>Goal:</strong> Create an emissive material with animated glow that can be customized through Material Instances.</p>
                    
                    <p><strong>Time:</strong> 20-25 minutes</p>
                    
                    <p><strong>What you'll practice:</strong></p>
                    <ul>
                        <li>Setting up emissive color and intensity</li>
                        <li>Creating animated effects with Time and Sine nodes</li>
                        <li>Using parameters for artist-friendly customization</li>
                        <li>Building Material Instances with different glow colors</li>
                    </ul>
                </div>

                <h3>Part 1: Create the Base Material</h3>

                <p><strong>Step 1:</strong> In Content Browser, create a new Material. Name it <code>M_SciFi_Panel_Emissive</code>.</p>

                <p><strong>Step 2:</strong> Double-click to open the Material Editor. This material will be <strong>Opaque</strong> (the default)‚Äîemissive works with any blend mode.</p>

                <p><strong>Step 3:</strong> Set up the base surface properties:</p>

                <p>Create a <strong>Vector Parameter</strong> named <code>Base_Color</code>. Set Group to <code>01 - Surface</code>. Default: dark gray (0.1, 0.1, 0.12). Connect to <strong>Base Color</strong>.</p>

                <p>Create a <strong>Scalar Parameter</strong> named <code>Roughness</code>. Set Group to <code>01 - Surface</code>. Default: 0.4, Slider Min: 0, Max: 1. Connect to <strong>Roughness</strong>.</p>

                <p>Create a <strong>Scalar Parameter</strong> named <code>Metallic</code>. Set Group to <code>01 - Surface</code>. Default: 0.8. Connect to <strong>Metallic</strong>.</p>

                <details style="margin: 1rem 0; padding: 1rem; background: #f5f5f5; border-radius: 8px; border: 1px solid #ddd;">
                    <summary style="cursor: pointer; font-weight: bold; color: #667eea;">üí° Hint: Why Dark Base Color?</summary>
                    <p style="margin-top: 1rem;">We use a dark base color so the emissive glow stands out dramatically. Bright base colors would compete with the glow effect. The metallic surface will catch environmental reflections, adding visual interest to the non-glowing areas.</p>
                </details>

                <h3>Part 2: Add the Emissive Glow</h3>

                <p><strong>Step 4:</strong> Create the emissive color parameter:</p>

                <p>Add a <strong>Vector Parameter</strong> named <code>Glow_Color</code>. Set Group to <code>02 - Emissive</code>. Default: bright cyan (0, 1, 1).</p>

                <p><strong>Step 5:</strong> Create the intensity control:</p>

                <p>Add a <strong>Scalar Parameter</strong> named <code>Glow_Intensity</code>. Set Group to <code>02 - Emissive</code>. Default: 10.0, Slider Min: 0, Slider Max: 50.</p>

                <p><strong>Step 6:</strong> Create a <strong>Multiply</strong> node. Connect <code>Glow_Color</code> to A and <code>Glow_Intensity</code> to B.</p>

                <p><strong>Step 7:</strong> Connect the Multiply output to <strong>Emissive Color</strong> on the main material node.</p>

                <p><strong>Step 8:</strong> Click <strong>Apply</strong>. You should see a solid glowing material in the preview sphere.</p>

                <!-- SVG: Current Progress -->
                <svg width="100%" height="200" viewBox="0 0 700 200" style="max-width: 700px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="350" y="25" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">Progress Check: Static Glow</text>
                    
                    <!-- Glow Color -->
                    <g transform="translate(30, 50)">
                        <rect x="0" y="0" width="120" height="40" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="60" y="17" text-anchor="middle" fill="#4CAF50" font-size="9">Glow_Color</text>
                        <rect x="10" y="23" width="15" height="12" fill="#00ffff"/>
                        <text x="35" y="32" fill="#aaa" font-size="7">(0, 1, 1)</text>
                        <circle cx="120" cy="20" r="4" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Glow Intensity -->
                    <g transform="translate(30, 110)">
                        <rect x="0" y="0" width="120" height="40" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="60" y="17" text-anchor="middle" fill="#4CAF50" font-size="9">Glow_Intensity</text>
                        <text x="60" y="32" fill="#aaa" font-size="8">10.0</text>
                        <circle cx="120" cy="20" r="4" fill="#888"/>
                    </g>
                    
                    <!-- Multiply -->
                    <g transform="translate(200, 75)">
                        <rect x="0" y="0" width="80" height="50" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="40" y="30" text-anchor="middle" fill="#fff" font-size="10">Multiply</text>
                        <circle cx="0" cy="15" r="4" fill="#f1c40f"/>
                        <circle cx="0" cy="35" r="4" fill="#888"/>
                        <circle cx="80" cy="25" r="4" fill="#f1c40f"/>
                    </g>
                    
                    <!-- Wires -->
                    <path d="M 150 70 L 200 90" stroke="#f1c40f" stroke-width="1.5" fill="none"/>
                    <path d="M 150 130 L 180 130 L 180 110 L 200 110" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- To Emissive -->
                    <path d="M 280 100 L 350 100" stroke="#00ffff" stroke-width="2" fill="none"/>
                    <text x="315" y="90" fill="#00ffff" font-size="8">To Emissive Color</text>
                    
                    <!-- Preview -->
                    <g transform="translate(500, 45)">
                        <circle cx="60" cy="60" r="55" fill="#111"/>
                        <circle cx="60" cy="60" r="50" fill="url(#staticGlow)"/>
                        <text x="60" y="135" text-anchor="middle" fill="#aaa" font-size="9">Solid glow - no animation yet</text>
                        <defs>
                            <radialGradient id="staticGlow" cx="40%" cy="40%">
                                <stop offset="0%" style="stop-color:#00ffff"/>
                                <stop offset="70%" style="stop-color:#006666"/>
                                <stop offset="100%" style="stop-color:#002222"/>
                            </radialGradient>
                        </defs>
                    </g>
                </svg>
                <p class="caption"><em>Figure: At this point, the material glows but doesn't animate.</em></p>

                <h3>Part 3: Add the Pulsing Animation</h3>

                <p><strong>Step 9:</strong> Create the animation speed control:</p>

                <p>Add a <strong>Scalar Parameter</strong> named <code>Pulse_Speed</code>. Set Group to <code>03 - Animation</code>. Default: 2.0, Slider Min: 0.1, Slider Max: 10.</p>

                <p><strong>Step 10:</strong> Create the animation range control:</p>

                <p>Add a <strong>Scalar Parameter</strong> named <code>Pulse_Min</code>. Set Group to <code>03 - Animation</code>. Default: 0.3, Slider Min: 0, Max: 1. (This is how dim the glow gets at minimum.)</p>

                <p><strong>Step 11:</strong> Build the animation node chain:</p>

                <p>Add a <strong>Time</strong> node (search "Time"). This outputs ever-increasing time in seconds.</p>

                <p>Add a <strong>Multiply</strong> node. Connect Time to A and <code>Pulse_Speed</code> to B. This controls animation speed.</p>

                <p>Add a <strong>Sine</strong> node. Connect the Multiply output to it. Sine converts linear time into smooth oscillation (-1 to 1).</p>

                <p>Add an <strong>Abs</strong> node (absolute value). Connect the Sine output to it. This converts the range from (-1 to 1) to (0 to 1)‚Äîalways positive.</p>

                <p><strong>Step 12:</strong> Remap the range to respect Pulse_Min:</p>

                <p>Add a <strong>Lerp</strong> (Linear Interpolate) node. Connect <code>Pulse_Min</code> to A, connect a <strong>Constant</strong> of 1.0 to B, and connect the Abs output to Alpha.</p>

                <p>This makes the pulse range from Pulse_Min (at minimum) to 1.0 (at maximum).</p>

                <p><strong>Step 13:</strong> Multiply this animation value into your emissive chain:</p>

                <p>Add another <strong>Multiply</strong> node between your existing Glow_Color √ó Glow_Intensity multiply and the Emissive Color input. Connect the Lerp output to this new Multiply.</p>

                <p>Your chain should now be: (Glow_Color √ó Glow_Intensity) √ó (Animated Pulse) ‚Üí Emissive Color</p>

                <p><strong>Step 14:</strong> Click <strong>Apply</strong>. The preview should now show a pulsing glow!</p>

                <!-- SVG: Complete Animation Chain -->
                <svg width="100%" height="280" viewBox="0 0 850 280" style="max-width: 850px; margin: 2rem auto; display: block; border: 2px solid #667eea; border-radius: 8px; background: #1e1e1e;">
                    <text x="425" y="25" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">Complete Pulsing Animation Node Chain</text>
                    
                    <!-- Time node -->
                    <g transform="translate(30, 50)">
                        <rect x="0" y="0" width="70" height="35" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="35" y="22" text-anchor="middle" fill="#aaa" font-size="9">Time</text>
                        <circle cx="70" cy="17" r="4" fill="#888"/>
                    </g>
                    
                    <!-- Pulse Speed -->
                    <g transform="translate(30, 100)">
                        <rect x="0" y="0" width="70" height="35" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="35" y="15" text-anchor="middle" fill="#4CAF50" font-size="8">Pulse_Speed</text>
                        <text x="35" y="28" fill="#aaa" font-size="8">2.0</text>
                        <circle cx="70" cy="17" r="4" fill="#888"/>
                    </g>
                    
                    <!-- Multiply (speed) -->
                    <g transform="translate(130, 65)">
                        <rect x="0" y="0" width="60" height="45" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="30" y="28" text-anchor="middle" fill="#fff" font-size="8">Multiply</text>
                        <circle cx="0" cy="15" r="3" fill="#888"/>
                        <circle cx="0" cy="30" r="3" fill="#888"/>
                        <circle cx="60" cy="22" r="3" fill="#888"/>
                    </g>
                    
                    <!-- Wires to first multiply -->
                    <path d="M 100 67 L 130 80" stroke="#888" stroke-width="1.5" fill="none"/>
                    <path d="M 100 117 L 115 117 L 115 95 L 130 95" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Sine -->
                    <g transform="translate(220, 65)">
                        <rect x="0" y="0" width="50" height="45" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="25" y="28" text-anchor="middle" fill="#fff" font-size="8">Sine</text>
                        <circle cx="0" cy="22" r="3" fill="#888"/>
                        <circle cx="50" cy="22" r="3" fill="#888"/>
                    </g>
                    
                    <path d="M 190 87 L 220 87" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Abs -->
                    <g transform="translate(300, 65)">
                        <rect x="0" y="0" width="45" height="45" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="22" y="28" text-anchor="middle" fill="#fff" font-size="8">Abs</text>
                        <circle cx="0" cy="22" r="3" fill="#888"/>
                        <circle cx="45" cy="22" r="3" fill="#888"/>
                    </g>
                    
                    <path d="M 270 87 L 300 87" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Pulse Min -->
                    <g transform="translate(300, 140)">
                        <rect x="0" y="0" width="70" height="35" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="35" y="15" text-anchor="middle" fill="#4CAF50" font-size="8">Pulse_Min</text>
                        <text x="35" y="28" fill="#aaa" font-size="8">0.3</text>
                        <circle cx="70" cy="17" r="4" fill="#888"/>
                    </g>
                    
                    <!-- Constant 1.0 -->
                    <g transform="translate(300, 190)">
                        <rect x="0" y="0" width="70" height="30" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="35" y="20" text-anchor="middle" fill="#aaa" font-size="8">Constant: 1.0</text>
                        <circle cx="70" cy="15" r="4" fill="#888"/>
                    </g>
                    
                    <!-- Lerp -->
                    <g transform="translate(410, 110)">
                        <rect x="0" y="0" width="60" height="70" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="30" y="20" text-anchor="middle" fill="#fff" font-size="8">Lerp</text>
                        <circle cx="0" cy="30" r="3" fill="#888"/>
                        <text x="8" y="33" fill="#666" font-size="6">A</text>
                        <circle cx="0" cy="45" r="3" fill="#888"/>
                        <text x="8" y="48" fill="#666" font-size="6">B</text>
                        <circle cx="0" cy="60" r="3" fill="#888"/>
                        <text x="8" y="63" fill="#666" font-size="6">Œ±</text>
                        <circle cx="60" cy="45" r="3" fill="#888"/>
                    </g>
                    
                    <!-- Wires to Lerp -->
                    <path d="M 345 87 L 380 87 L 380 140 L 410 140" stroke="#888" stroke-width="1.5" fill="none"/>
                    <path d="M 370 157 L 410 155" stroke="#888" stroke-width="1.5" fill="none"/>
                    <path d="M 370 205 L 390 205 L 390 170 L 410 170" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Color side -->
                    <g transform="translate(500, 45)">
                        <rect x="0" y="0" width="80" height="35" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="40" y="15" text-anchor="middle" fill="#4CAF50" font-size="8">Glow_Color</text>
                        <rect x="10" y="20" width="12" height="10" fill="#00ffff"/>
                        <circle cx="80" cy="17" r="4" fill="#f1c40f"/>
                    </g>
                    
                    <g transform="translate(500, 95)">
                        <rect x="0" y="0" width="80" height="35" rx="4" fill="#3d3d3d" stroke="#4CAF50" stroke-width="2"/>
                        <text x="40" y="15" text-anchor="middle" fill="#4CAF50" font-size="8">Glow_Intensity</text>
                        <text x="40" y="28" fill="#aaa" font-size="8">10.0</text>
                        <circle cx="80" cy="17" r="4" fill="#888"/>
                    </g>
                    
                    <!-- First multiply (color √ó intensity) -->
                    <g transform="translate(610, 55)">
                        <rect x="0" y="0" width="55" height="45" rx="4" fill="#3d3d3d" stroke="#888"/>
                        <text x="27" y="28" text-anchor="middle" fill="#fff" font-size="8">Multiply</text>
                        <circle cx="0" cy="15" r="3" fill="#f1c40f"/>
                        <circle cx="0" cy="30" r="3" fill="#888"/>
                        <circle cx="55" cy="22" r="3" fill="#f1c40f"/>
                    </g>
                    
                    <path d="M 580 62 L 610 70" stroke="#f1c40f" stroke-width="1.5" fill="none"/>
                    <path d="M 580 112 L 595 112 L 595 85 L 610 85" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Second multiply (result √ó pulse) -->
                    <g transform="translate(700, 100)">
                        <rect x="0" y="0" width="55" height="45" rx="4" fill="#3d3d3d" stroke="#00ffff" stroke-width="2"/>
                        <text x="27" y="28" text-anchor="middle" fill="#fff" font-size="8">Multiply</text>
                        <circle cx="0" cy="15" r="3" fill="#f1c40f"/>
                        <circle cx="0" cy="30" r="3" fill="#888"/>
                        <circle cx="55" cy="22" r="3" fill="#00ffff"/>
                    </g>
                    
                    <path d="M 665 77 L 680 77 L 680 115 L 700 115" stroke="#f1c40f" stroke-width="1.5" fill="none"/>
                    <path d="M 470 155 L 485 155 L 485 130 L 700 130" stroke="#888" stroke-width="1.5" fill="none"/>
                    
                    <!-- Output label -->
                    <text x="790" y="125" text-anchor="middle" fill="#00ffff" font-size="9">‚Üí Emissive</text>
                    
                    <!-- Flow labels -->
                    <rect x="30" y="235" width="300" height="25" rx="4" fill="rgba(136,136,136,0.2)" stroke="#888"/>
                    <text x="180" y="252" text-anchor="middle" fill="#888" font-size="9">Animation Chain: Time ‚Üí Speed ‚Üí Sine ‚Üí Abs ‚Üí Lerp</text>
                    
                    <rect x="500" y="235" width="250" height="25" rx="4" fill="rgba(0,255,255,0.2)" stroke="#00ffff"/>
                    <text x="625" y="252" text-anchor="middle" fill="#00ffff" font-size="9">Color Chain: Color √ó Intensity √ó Pulse</text>
                </svg>
                <p class="caption"><em>Figure: The complete node setup with animation controls feeding into the emissive output.</em></p>

                <h3>Part 4: Create Material Instances</h3>

                <p><strong>Step 15:</strong> Right-click <code>M_SciFi_Panel_Emissive</code> ‚Üí <strong>Create Material Instance</strong>. Name it <code>MI_Panel_Cyan_Fast</code>.</p>

                <p>Keep the defaults (cyan glow) but increase <code>Pulse_Speed</code> to 4.0 for a faster heartbeat effect.</p>

                <p><strong>Step 16:</strong> Create another instance: <code>MI_Panel_Red_Alert</code>. Configure:</p>
                <ul>
                    <li><strong>Glow_Color:</strong> Red (1, 0, 0)</li>
                    <li><strong>Glow_Intensity:</strong> 20 (brighter for alert)</li>
                    <li><strong>Pulse_Speed:</strong> 6.0 (urgent pulsing)</li>
                    <li><strong>Pulse_Min:</strong> 0.5 (doesn't get as dim)</li>
                </ul>

                <p><strong>Step 17:</strong> Create a third: <code>MI_Panel_Green_Steady</code>. Configure:</p>
                <ul>
                    <li><strong>Glow_Color:</strong> Green (0, 1, 0.3)</li>
                    <li><strong>Glow_Intensity:</strong> 8</li>
                    <li><strong>Pulse_Speed:</strong> 0.5 (very slow, calm)</li>
                    <li><strong>Pulse_Min:</strong> 0.8 (barely dims‚Äîalmost steady)</li>
                </ul>

                <p><strong>Step 18:</strong> Place cubes or planes in your level and apply each instance. You now have three distinct panel styles from one parent material!</p>

                <details style="margin: 1rem 0; padding: 1rem; background: #e8f5e9; border-radius: 8px; border: 1px solid #4CAF50;">
                    <summary style="cursor: pointer; font-weight: bold; color: #4CAF50;">‚úÖ Solution Check: What You Should See</summary>
                    <div style="margin-top: 1rem;">
                        <p>Your three panels should display distinctly different behaviors:</p>
                        <ul>
                            <li><strong>Cyan Fast:</strong> Quick cyan pulsing, like a computer processing indicator</li>
                            <li><strong>Red Alert:</strong> Bright red urgent flashing, clearly an alarm state</li>
                            <li><strong>Green Steady:</strong> Calm green glow that barely changes, indicating normal/ready status</li>
                        </ul>
                        <p>All three use identical shader code‚Äîonly parameter values differ. This is the power of parameterized materials!</p>
                    </div>
                </details>

                <details style="margin: 1rem 0; padding: 1rem; background: #fff3cd; border-radius: 8px; border: 1px solid #ffc107;">
                    <summary style="cursor: pointer; font-weight: bold; color: #856404;">üîß Troubleshooting: Common Issues</summary>
                    <div style="margin-top: 1rem;">
                        <p><strong>No glow visible:</strong></p>
                        <ul>
                            <li>Check that Glow_Intensity is above 0 (try 10-20)</li>
                            <li>Ensure all multiply nodes are connected correctly</li>
                            <li>Verify Emissive Color input is connected on the main node</li>
                        </ul>
                        
                        <p><strong>No bloom halo:</strong></p>
                        <ul>
                            <li>Ensure a Post Process Volume exists with Bloom enabled</li>
                            <li>Check Bloom Intensity in the Post Process settings (try 0.5-1.0)</li>
                            <li>Increase Glow_Intensity‚Äîvalues need to exceed 1.0 for bloom</li>
                        </ul>
                        
                        <p><strong>No animation:</strong></p>
                        <ul>
                            <li>Verify the Time node is connected through to the final Multiply</li>
                            <li>Check that Pulse_Speed is above 0</li>
                            <li>Make sure the preview is set to animate (realtime preview enabled)</li>
                        </ul>
                        
                        <p><strong>Animation too subtle:</strong></p>
                        <ul>
                            <li>Decrease Pulse_Min toward 0 for more dramatic dimming</li>
                            <li>Increase Pulse_Speed for more noticeable motion</li>
                        </ul>
                    </div>
                </details>

                <h3>Bonus Challenge: Add an Emissive Mask</h3>

                <p>Want to take this further? Create or import a texture that defines which parts of a surface should glow (white areas glow, black areas don't). Multiply this mask into your emissive chain before the Emissive Color input. Now you can create control panels where only specific buttons and screens glow while the frame stays dark!</p>
            </section>

            <!-- Section 8: Summary -->
            <section id="summary" class="lesson-section">
                <h2>Summary</h2>

                <p>You've now mastered the special material types that bring variety and visual interest to your Unreal Engine projects. Let's recap the key concepts:</p>

                <div class="card" style="background: #f5f5f5; border-left: 4px solid #667eea;">
                    <h4>üéØ Key Takeaways</h4>
                    
                    <p><strong>Blend Modes</strong> determine how materials interact with what's behind them. Use Opaque for solids, Masked for cutouts, and Translucent for variable transparency. Performance decreases as you move from Opaque to Translucent.</p>

                    <p><strong>Translucent materials</strong> enable glass, water, and see-through effects. Use Fresnel for realistic edge reflections, Surface ForwardShading for high-quality lighting, and be mindful of sorting issues with overlapping transparent objects.</p>

                    <p><strong>Masked materials</strong> create complex shapes from simple geometry using alpha masks. They're more performant than translucent and don't have sorting problems. Perfect for foliage, fences, and hair.</p>

                    <p><strong>Emissive materials</strong> make surfaces appear to glow. Values above 1.0 trigger HDR bloom effects. Combine with Time and Sine nodes for animated pulses. With Lumen, emissive surfaces can actually cast light.</p>

                    <p><strong>Decals</strong> project materials onto scene geometry without modifying meshes. They're ideal for environmental detail, gameplay feedback, and signage. Use appropriate Decal Blend Modes for different effects.</p>

                    <p><strong>Landscape materials</strong> use layer-based blending for terrain texturing. The Landscape Layer Blend node combines multiple texture sets based on painted weights. Performance is critical due to landscape scale.</p>
                </div>

                <h3>Choosing the Right Material Type</h3>

                <!-- Mermaid: Decision Tree -->
                <pre class="mermaid">
flowchart TD
    Start["What effect do you need?"] --> Q1{"See through\nthe surface?"}
    
    Q1 -->|No| Opaque["Use OPAQUE\n(best performance)"]
    Q1 -->|Yes| Q2{"Gradual or\nbinary transparency?"}
    
    Q2 -->|"Binary (on/off)"| Masked["Use MASKED\n(cutouts, foliage)"]
    Q2 -->|"Gradual (0-100%)"| Translucent["Use TRANSLUCENT\n(glass, water, smoke)"]
    
    Start --> Q3{"Need surface\nto glow?"}
    Q3 -->|Yes| Emissive["Add EMISSIVE COLOR\n(works with any blend mode)"]
    
    Start --> Q4{"Project onto\nother surfaces?"}
    Q4 -->|Yes| Decal["Use DECAL MATERIAL\n(Deferred Decal domain)"]
    
    Start --> Q5{"Terrain with\npainted layers?"}
    Q5 -->|Yes| Landscape["Use LANDSCAPE MATERIAL\n(Layer Blend nodes)"]
    
    style Opaque fill:#4CAF50,color:#fff
    style Masked fill:#8BC34A,color:#fff
    style Translucent fill:#FF9800,color:#fff
    style Emissive fill:#00BCD4,color:#fff
    style Decal fill:#9C27B0,color:#fff
    style Landscape fill:#795548,color:#fff
                </pre>
                <p class="caption"><em>Figure: Decision tree for selecting the appropriate material type.</em></p>

                <h3>Performance Guidelines</h3>

                <p>Keep these performance principles in mind:</p>

                <p><strong>Prefer Opaque:</strong> Always start with Opaque. Only switch to Masked or Translucent when the effect truly requires it.</p>

                <p><strong>Masked over Translucent:</strong> If you don't need gradual transparency, Masked performs better and avoids sorting issues.</p>

                <p><strong>Limit translucent layers:</strong> Multiple overlapping translucent surfaces compound performance cost and can cause visual artifacts.</p>

                <p><strong>Emissive is cheap:</strong> Adding emissive to an existing material has minimal cost. The bloom post-process has its own cost but affects all emissives equally.</p>

                <p><strong>Decal efficiency:</strong> Keep projection volumes small. Use simpler Decal Blend Modes (Stain, Normal) when full Translucent isn't needed.</p>

                <p><strong>Landscape complexity:</strong> Limit layer counts. Each layer adds texture samples across millions of vertices.</p>

                <h3>What's Next?</h3>

                <p>Congratulations on completing the Materials and Textures module! You now have comprehensive knowledge of Unreal Engine's material system‚Äîfrom basic PBR principles through complex parameter systems to specialized material types.</p>

                <p>In the next module, we'll explore <strong>Lighting</strong>‚Äîhow to illuminate your scenes with different light types, build static and dynamic lighting setups, and create atmosphere with fog and post-processing effects. Your material knowledge will be essential as we learn how surfaces and lights interact to create compelling visuals.</p>
            </section>

            <!-- Lesson Navigation -->
            <nav class="lesson-nav" aria-label="Lesson navigation">
                <a href="m03_l04_material_instances_and_parameters.html" class="btn">‚Üê Previous: Material Instances and Parameters</a>
                <a href="index.html" class="btn btn-outline">Course Home</a>
                <a href="m04_l01_lighting_fundamentals.html" class="btn">Next: Introduction to Lighting ‚Üí</a>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Introduction to Unreal Engine 5 Course. Part of the Practical Ace learning series.</p>
            <nav aria-label="Footer navigation">
                <a href="index.html">Home</a>
                <a href="index.html#modules">All Modules</a>
            </nav>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Progress indicator
        window.addEventListener('scroll', () => {
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = (window.scrollY / docHeight) * 100;
            document.querySelector('.progress-bar').style.width = scrolled + '%';
        });

        // Mobile menu toggle
        const menuToggle = document.getElementById('mobile-menu-toggle');
        const navLinks = document.getElementById('nav-links');
        
        menuToggle?.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
            menuToggle.setAttribute('aria-expanded', !expanded);
            navLinks.classList.toggle('active');
        });

        // Theme toggle
        const themeToggle = document.getElementById('theme-toggle');
        const savedTheme = localStorage.getItem('theme');
        
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            themeToggle.textContent = '‚òÄÔ∏è';
        }

        themeToggle?.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        });

        // Smooth scrolling for TOC links
        document.querySelectorAll('.toc-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').slice(1);
                const target = document.getElementById(targetId);
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    history.pushState(null, null, `#${targetId}`);
                }
            });
        });
    </script>
</body>
</html>
